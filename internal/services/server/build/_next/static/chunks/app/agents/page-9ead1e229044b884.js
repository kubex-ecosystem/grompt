(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},508:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},594:(e,t,a)=>{Promise.resolve().then(a.bind(a,9285))},1169:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1360:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},2529:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5229:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5426:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},6132:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7828:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7910:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9285:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(5155),r=a(63),n=a(2115),l=a(1169),c=a(1847);let o=(0,c.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),d=(0,c.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),i=(0,c.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var x=a(9715),m=a(6191),g=a(1786),h=a(9867);let p=(0,c.A)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var u=a(5426),b=a(7828);let y=(0,c.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var j=a(1360),f=a(4274),v=a(5229);let N=(0,c.A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),k=(0,c.A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),w=e=>{let{isOpen:t,onClose:a,agents:r,darkMode:l}=e,{t:c}=(0,f.Bd)(),[o,d]=(0,n.useState)(new Set),[i,x]=(0,n.useState)("markdown"),[m,g]=(0,n.useState)("agents"),[u,b]=(0,n.useState)(!1),y={dark:{bg:"bg-gray-900",modal:"bg-gray-800",text:"text-gray-100",textSecondary:"text-gray-300",border:"border-gray-700",input:"bg-gray-700 border-gray-600 text-gray-100",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-700 hover:bg-gray-600 text-gray-200",success:"bg-green-900 border-green-700 text-green-100"},light:{bg:"bg-gray-50",modal:"bg-white",text:"text-gray-900",textSecondary:"text-gray-600",border:"border-gray-300",input:"bg-white border-gray-300 text-gray-900",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-200 hover:bg-gray-300 text-gray-700",success:"bg-green-50 border-green-300 text-green-800"}},j=l?y.dark:y.light;(0,n.useEffect)(()=>{t&&d(new Set(r.map(e=>e.ID)))},[t,r]);let w=()=>{switch(i){case"json":return".json";case"yaml":return".yaml";default:return".md"}},S=async()=>{if(0!==o.size){b(!0);try{let e=await fetch("/api/agents/export-advanced",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:i,agent_ids:Array.from(o),filename:m})});if(e.ok){let t=await e.blob(),a=window.URL.createObjectURL(t),s=document.createElement("a");s.style.display="none",s.href=a,s.download=m+w(),document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(a),document.body.removeChild(s),A()}else throw Error("Export failed")}catch(e){console.error("Export error:",e)}finally{b(!1)}}},A=()=>{d(new Set),x("markdown"),g("agents"),b(!1),a()};return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"".concat(j.modal," rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-hidden"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 ".concat(j.border," border-b"),children:[(0,s.jsx)("h2",{className:"text-xl font-bold ".concat(j.text),children:c("agents.export.title")}),(0,s.jsx)("button",{title:c("common.close"),onClick:A,className:"p-2 rounded-lg ".concat(j.buttonSecondary),children:(0,s.jsx)(v.A,{size:20})})]}),(0,s.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold ".concat(j.text),children:c("agents.export.selectAgents")}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{d(new Set(r.map(e=>e.ID)))},className:"px-3 py-1 text-sm rounded ".concat(j.buttonSecondary),children:c("agents.export.selectAll")}),(0,s.jsx)("button",{onClick:()=>{d(new Set)},className:"px-3 py-1 text-sm rounded ".concat(j.buttonSecondary),children:c("agents.export.deselectAll")})]})]}),(0,s.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded border ".concat(j.border," ").concat(j.modal," cursor-pointer hover:bg-opacity-50"),onClick:()=>(e=>{let t=new Set(o);t.has(e)?t.delete(e):t.add(e),d(t)})(e.ID),children:[o.has(e.ID)?(0,s.jsx)(p,{size:20,className:"text-blue-600"}):(0,s.jsx)(N,{size:20,className:j.textSecondary}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-medium ".concat(j.text),children:e.Title}),e.Role&&(0,s.jsx)("p",{className:"text-sm ".concat(j.textSecondary),children:e.Role}),e.Skills&&e.Skills.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.Skills.slice(0,3).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded ".concat(j.buttonSecondary),children:e},t)),e.Skills.length>3&&(0,s.jsxs)("span",{className:"px-2 py-0.5 text-xs ".concat(j.textSecondary),children:["+",e.Skills.length-3]})]})]})]},e.ID))}),(0,s.jsxs)("div",{className:"text-sm ".concat(j.textSecondary),children:[o.size," / ",r.length," ",c("agents.export.selectedAgents")]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold ".concat(j.text),children:c("agents.export.format")}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries({markdown:c("agents.export.formats.markdown"),json:c("agents.export.formats.json"),yaml:c("agents.export.formats.yaml")}).map(e=>{let[t,a]=e;return(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"format",value:t,checked:i===t,onChange:e=>x(e.target.value),className:"w-4 h-4"}),(0,s.jsx)("span",{className:j.text,children:a})]},t)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium ".concat(j.text),children:c("agents.export.filename")}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),className:"flex-1 px-3 py-2 rounded-lg border ".concat(j.input),placeholder:"agents"}),(0,s.jsx)("span",{className:"px-3 py-2 rounded-lg ".concat(j.buttonSecondary," text-sm"),children:w()})]})]})]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 p-6 ".concat(j.border," border-t"),children:[(0,s.jsx)("button",{onClick:A,className:"px-4 py-2 rounded-lg ".concat(j.buttonSecondary),disabled:u,children:c("ideas.cancel")}),(0,s.jsxs)("button",{onClick:S,disabled:0===o.size||u||!m.trim(),className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat(j.button," disabled:opacity-50"),children:[u?(0,s.jsx)(k,{size:16,className:"animate-spin"}):(0,s.jsx)(h.A,{size:16}),(0,s.jsx)("span",{children:c("agents.export.download")})]})]})]})}):null};var S=a(2732),A=a(5849),z=a(2529),C=a(6132);let M=(0,c.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),R=e=>{let{isOpen:t,onClose:a,onImport:r,darkMode:l}=e,{t:c}=(0,f.Bd)(),o=(0,n.useRef)(null),[d,i]=(0,n.useState)(""),[m,h]=(0,n.useState)("upload"),[p,u]=(0,n.useState)({merge:!1,validate:!0}),[b,y]=(0,n.useState)(null),[j,N]=(0,n.useState)([]),[k,w]=(0,n.useState)(!1),[R,E]=(0,n.useState)("input"),L={dark:{bg:"bg-gray-900",modal:"bg-gray-800",text:"text-gray-100",textSecondary:"text-gray-300",border:"border-gray-700",input:"bg-gray-700 border-gray-600 text-gray-100",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-700 hover:bg-gray-600 text-gray-200",success:"bg-green-900 border-green-700 text-green-100",error:"bg-red-900 border-red-700 text-red-100",warning:"bg-yellow-900 border-yellow-700 text-yellow-100"},light:{bg:"bg-gray-50",modal:"bg-white",text:"text-gray-900",textSecondary:"text-gray-600",border:"border-gray-300",input:"bg-white border-gray-300 text-gray-900",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-200 hover:bg-gray-300 text-gray-700",success:"bg-green-50 border-green-300 text-green-800",error:"bg-red-50 border-red-300 text-red-800",warning:"bg-yellow-50 border-yellow-300 text-yellow-800"}},T=l?L.dark:L.light;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"".concat(T.modal," rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 ".concat(T.border," border-b"),children:[(0,s.jsx)("h2",{className:"text-xl font-bold ".concat(T.text),children:c("agents.import.title")}),(0,s.jsx)("button",{title:"Close",onClick:()=>{i(""),y(null),N([]),E("input"),w(!1),a()},className:"p-2 rounded-lg ".concat(T.buttonSecondary),children:(0,s.jsx)(v.A,{size:20})})]}),(0,s.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:"input"===R&&(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("button",{onClick:()=>h("upload"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat("upload"===m?T.button:T.buttonSecondary),children:[(0,s.jsx)(g.A,{size:20}),(0,s.jsx)("span",{children:c("agents.import.upload")})]}),(0,s.jsxs)("button",{onClick:()=>h("paste"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat("paste"===m?T.button:T.buttonSecondary),children:[(0,s.jsx)(x.A,{size:20}),(0,s.jsx)("span",{children:c("agents.import.paste")})]})]}),"upload"===m&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{title:"Upload a file",ref:o,type:"file",accept:".md,.markdown,.txt",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){let e=new FileReader;e.onload=e=>{i(e.target.result)},e.readAsText(a)}},className:"hidden"}),(0,s.jsxs)("button",{onClick:()=>{var e;return null==(e=o.current)?void 0:e.click()},className:"w-full p-8 border-2 border-dashed ".concat(T.border," rounded-lg hover:bg-opacity-50 transition-colors"),children:[(0,s.jsx)(g.A,{size:48,className:"mx-auto mb-4 ".concat(T.textSecondary)}),(0,s.jsx)("p",{className:T.text,children:c("agents.import.upload")}),(0,s.jsx)("p",{className:"text-sm ".concat(T.textSecondary," mt-2"),children:c("agents.import.supportedFormats")})]})]}),"paste"===m&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium ".concat(T.text),children:c("agents.import.content")}),(0,s.jsx)("textarea",{value:d,onChange:e=>i(e.target.value),placeholder:"# Agents\\n\\n## Agent 1: Title\\n- Role: ...\\n- Skills: ...\\n",className:"w-full h-64 px-3 py-2 rounded-lg border ".concat(T.input," resize-none")})]}),d&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium ".concat(T.text),children:c("agents.import.preview")}),(0,s.jsx)("div",{className:"p-4 rounded-lg border ".concat(T.border," ").concat(T.input," max-h-32 overflow-y-auto"),children:(0,s.jsxs)("pre",{className:"text-sm ".concat(T.textSecondary),children:[d.substring(0,500),d.length>500&&"..."]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold ".concat(T.text),children:c("agents.import.options")}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",name:"importMode",checked:p.merge,onChange:()=>u(e=>(0,A._)((0,S._)({},e),{merge:!0})),className:"w-4 h-4"}),(0,s.jsx)("span",{className:T.text,children:c("agents.import.merge")})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",name:"importMode",checked:!p.merge,onChange:()=>u(e=>(0,A._)((0,S._)({},e),{merge:!1})),className:"w-4 h-4"}),(0,s.jsx)("span",{className:T.text,children:c("agents.import.replace")}),R&&"string"==typeof R&&"preview"===R&&b&&(0,s.jsx)("div",{className:"p-6 space-y-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 p-4 rounded-lg ".concat(b.valid?T.success:T.error),children:[b.valid?(0,s.jsx)(z.A,{size:20}):(0,s.jsx)(C.A,{size:20}),(0,s.jsx)("span",{className:"font-medium",children:c(b.valid?"agents.validation.valid":"agents.validation.invalid")}),(0,s.jsxs)("span",{children:[b.agents_found," ",c("agents.import.agentsFound")]})]}),j.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h4",{className:"font-semibold ".concat(T.text),children:[c("agents.import.errors")," (",j.length,")"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:j.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start space-x-2 p-3 rounded ".concat(T.error),children:[(0,s.jsx)(M,{size:16,className:"mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.section||"General"}),(0,s.jsx)("p",{className:"text-sm",children:e.message}),e.line&&(0,s.jsxs)("p",{className:"text-xs opacity-75",children:["Line ",e.line]})]})]},t))})]}),b.agents&&b.agents.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h4",{className:"font-semibold ".concat(T.text),children:[c("agents.import.preview")," (",b.agents.length,")"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:b.agents.map((e,t)=>(0,s.jsxs)("div",{className:"p-3 rounded border ".concat(T.border," ").concat(T.modal),children:[(0,s.jsx)("h5",{className:"font-medium ".concat(T.text),children:e.Title}),e.Role&&(0,s.jsx)("p",{className:"text-sm ".concat(T.textSecondary),children:e.Role}),e.Skills&&e.Skills.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.Skills.slice(0,3).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(T.buttonSecondary),children:e},t)),e.Skills.length>3&&(0,s.jsxs)("span",{className:"px-2 py-1 text-xs rounded ".concat(T.textSecondary),children:["+",e.Skills.length-3," more"]})]})]},t))})]})]})})]})]})]})]})})]})}):null},E=e=>{let{isOpen:t,onClose:a,darkMode:r}=e,{t:l}=(0,f.Bd)(),[c,o]=(0,n.useState)(""),[d,i]=(0,n.useState)(null),[m,g]=(0,n.useState)(!1),h={dark:{bg:"bg-gray-900",modal:"bg-gray-800",text:"text-gray-100",textSecondary:"text-gray-300",border:"border-gray-700",input:"bg-gray-700 border-gray-600 text-gray-100",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-700 hover:bg-gray-600 text-gray-200",success:"bg-green-900 border-green-700 text-green-100",error:"bg-red-900 border-red-700 text-red-100",warning:"bg-yellow-900 border-yellow-700 text-yellow-100"},light:{bg:"bg-gray-50",modal:"bg-white",text:"text-gray-900",textSecondary:"text-gray-600",border:"border-gray-300",input:"bg-white border-gray-300 text-gray-900",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-200 hover:bg-gray-300 text-gray-700",success:"bg-green-50 border-green-300 text-green-800",error:"bg-red-50 border-red-300 text-red-800",warning:"bg-yellow-50 border-yellow-300 text-yellow-800"}},p=r?h.dark:h.light,u=async()=>{if(c.trim()){g(!0),i(null);try{let e=await fetch("/api/agents/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:c.trim()})}),t=await e.json();e.ok?i(t):i({valid:!1,agents_found:0,errors:[{type:"error",message:t.error||"Validation failed"}],error_count:1})}catch(e){i({valid:!1,agents_found:0,errors:[{type:"error",message:"Failed to validate content"}],error_count:1})}finally{g(!1)}}},b=()=>{o(""),i(null),g(!1),a()};return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"".concat(p.modal," rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 ".concat(p.border," border-b"),children:[(0,s.jsx)("h2",{className:"text-xl font-bold ".concat(p.text),children:l("agents.validation.title")}),(0,s.jsx)("button",{title:l("common.close"),onClick:b,className:"p-2 rounded-lg ".concat(p.buttonSecondary),children:(0,s.jsx)(v.A,{size:20})})]}),(0,s.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium ".concat(p.text),children:l("agents.validation.content")}),(0,s.jsx)("textarea",{value:c,onChange:e=>o(e.target.value),placeholder:"# Agents  ## Agent 1: Title - Role: ... - Skills: ... ",className:"w-full h-64 px-3 py-2 rounded-lg border ".concat(p.input," resize-none font-mono text-sm")})]}),m&&(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(k,{size:48,className:"mx-auto mb-4 animate-spin ".concat(p.text)}),(0,s.jsx)("p",{className:"text-lg ".concat(p.text),children:l("agents.validation.validating")})]}),d&&!m&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 p-4 rounded-lg ".concat(d.valid?p.success:p.error),children:[d.valid?(0,s.jsx)(z.A,{size:20}):(0,s.jsx)(C.A,{size:20}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("span",{className:"font-medium",children:l(d.valid?"agents.validation.valid":"agents.validation.invalid")}),(0,s.jsxs)("div",{className:"text-sm mt-1",children:[l("agents.validation.summary"),": ",d.agents_found," ",l("agents.import.agentsFound"),d.error_count>0&&(0,s.jsxs)("span",{children:[", ",d.error_count," ",l("agents.validation.errors")]})]})]})]}),d.errors&&d.errors.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h4",{className:"font-semibold ".concat(p.text),children:[l("agents.validation.errors")," (",d.errors.length,")"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d.errors.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start space-x-2 p-3 rounded ".concat(p.error),children:[(0,s.jsx)(M,{size:16,className:"mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.section||"General"}),(0,s.jsx)("p",{className:"text-sm",children:e.message}),e.line&&(0,s.jsxs)("p",{className:"text-xs opacity-75",children:["Line ",e.line]})]})]},t))})]}),d.agents&&d.agents.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h4",{className:"font-semibold ".concat(p.text),children:["Valid Agents (",d.agents.length,")"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d.agents.map((e,t)=>(0,s.jsxs)("div",{className:"p-3 rounded border ".concat(p.border," ").concat(p.modal),children:[(0,s.jsx)("h5",{className:"font-medium ".concat(p.text),children:e.Title}),e.Role&&(0,s.jsx)("p",{className:"text-sm ".concat(p.textSecondary),children:e.Role}),e.Skills&&e.Skills.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.Skills.slice(0,5).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(p.buttonSecondary),children:e},t)),e.Skills.length>5&&(0,s.jsxs)("span",{className:"px-2 py-1 text-xs rounded ".concat(p.textSecondary),children:["+",e.Skills.length-5," more"]})]})]},t))})]})]})]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 p-6 ".concat(p.border," border-t"),children:[(0,s.jsx)("button",{onClick:b,className:"px-4 py-2 rounded-lg ".concat(p.buttonSecondary),disabled:m,children:l("ideas.cancel")}),(0,s.jsxs)("button",{onClick:u,disabled:!c.trim()||m,className:"flex items-center space-x-2 px-4 py-2 rounded-lg ".concat(p.button," disabled:opacity-50"),children:[m?(0,s.jsx)(k,{size:16,className:"animate-spin"}):(0,s.jsx)(x.A,{size:16}),(0,s.jsx)("span",{children:l("agents.validation.validate")})]})]})]})}):null},L=()=>{let{t:e}=(0,f.Bd)(),t=(0,r.useRouter)(),[a,c]=(0,n.useState)([]),[v]=(0,n.useState)(!0),[N,k]=(0,n.useState)(!0),[S,A]=(0,n.useState)(null),[z,C]=(0,n.useState)(""),[M,L]=(0,n.useState)("all"),[T,B]=(0,n.useState)("grid"),[_,O]=(0,n.useState)(!1),[P,q]=(0,n.useState)(!1),[F,D]=(0,n.useState)(!1),[U,I]=(0,n.useState)(!1),[H,V]=(0,n.useState)(""),[G,J]=(0,n.useState)(!1),[Z,Q]=(0,n.useState)(""),K={dark:{bg:"bg-gray-900",cardBg:"bg-gray-800",text:"text-gray-100",textSecondary:"text-gray-300",border:"border-gray-700",input:"bg-gray-700 border-gray-600 text-gray-100",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-700 hover:bg-gray-600 text-gray-200",accent:"text-blue-400"},light:{bg:"bg-gray-50",cardBg:"bg-white",text:"text-gray-900",textSecondary:"text-gray-600",border:"border-gray-300",input:"bg-white border-gray-300 text-gray-900",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-200 hover:bg-gray-300 text-gray-700",accent:"text-blue-600"}},W=v?K.dark:K.light;(0,n.useEffect)(()=>{X()},[]);let X=async()=>{try{k(!0);let e=await fetch("/api/agents");if(!e.ok)throw Error("Failed to load agents");let t=await e.json();c(t)}catch(e){A(e.message)}finally{k(!1)}},Y=a.filter(e=>{var t,a,s;let r=(null==(t=e.Title)?void 0:t.toLowerCase().includes(z.toLowerCase()))||(null==(a=e.Role)?void 0:a.toLowerCase().includes(z.toLowerCase())),n="all"===M||(null==(s=e.Skills)?void 0:s.some(e=>e.toLowerCase().includes(M.toLowerCase())));return r&&n}),$=async e=>{try{if(!(await fetch("/api/agents/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete agent");c(a.filter(t=>t.ID!==e))}catch(e){A(e.message)}},ee=async()=>{try{J(!0);let e=await fetch("/api/agents/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requirements:H})});if(!e.ok)throw Error("Failed to generate agents");let t=await e.json();Q(t.markdown)}catch(e){A(e.message)}finally{J(!1)}},et=async()=>{try{let e=await fetch("/api/agents/markdown");if(!e.ok)throw Error("Failed to export markdown");let t=await e.text(),a=new Blob([t],{type:"text/markdown"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="AGENTS.md",r.click(),URL.revokeObjectURL(s)}catch(e){A(e.message)}},ea=async()=>{try{let e=await fetch("/api/agents/markdown");if(!e.ok)throw Error("Failed to get markdown");let t=await e.text();await navigator.clipboard.writeText(t)}catch(e){A(e.message)}};return N?(0,s.jsx)("div",{className:"min-h-screen ".concat(W.bg," ").concat(W.text," flex items-center justify-center"),children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,s.jsxs)("p",{children:[e("loading"),"..."]})]})}):(0,s.jsxs)("div",{className:"min-h-screen ".concat(W.bg," ").concat(W.text),children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(l.A,{className:"h-7 w-7 text-blue-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:e("agents.title")})]}),(0,s.jsx)("div",{className:"".concat(W.cardBg," ").concat(W.border," border rounded-lg p-6 mb-8"),children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:e("agents.search"),value:z,onChange:e=>C(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg ".concat(W.input," ").concat(W.border," border focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full")})]}),(0,s.jsxs)("select",{title:e("agents.filterByCategory"),value:M,onChange:e=>L(e.target.value),className:"px-4 py-2 rounded-lg ".concat(W.input," ").concat(W.border," border focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-0"),children:[(0,s.jsx)("option",{value:"all",children:e("agents.all")}),(0,s.jsx)("option",{value:"backend",children:"Backend"}),(0,s.jsx)("option",{value:"frontend",children:"Frontend"}),(0,s.jsx)("option",{value:"devops",children:"DevOps"}),(0,s.jsx)("option",{value:"qa",children:"QA"})]}),(0,s.jsxs)("div",{className:"flex gap-1 p-1 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[(0,s.jsx)("button",{title:e("agents.viewAsGrid"),onClick:()=>B("grid"),className:"p-2 rounded ".concat("grid"===T?"bg-blue-500 text-white":W.buttonSecondary),children:(0,s.jsx)(d,{size:16})}),(0,s.jsx)("button",{title:e("agents.viewAsList"),onClick:()=>B("list"),className:"p-2 rounded ".concat("list"===T?"bg-blue-500 text-white":W.buttonSecondary),children:(0,s.jsx)(i,{size:16})})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(W.button," transition-colors text-sm"),children:[(0,s.jsx)(x.A,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:e("agents.generateSquad")}),(0,s.jsx)("span",{className:"sm:hidden",children:"Squad"})]}),(0,s.jsxs)("button",{onClick:()=>t.push("/agents/new"),className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(W.button," transition-colors text-sm"),children:[(0,s.jsx)(m.A,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:e("agents.new")}),(0,s.jsx)("span",{className:"sm:hidden",children:"Novo"})]}),(0,s.jsxs)("button",{onClick:()=>{q(!0)},className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(W.buttonSecondary," transition-colors text-sm"),children:[(0,s.jsx)(g.A,{size:16}),(0,s.jsx)("span",{className:"hidden md:inline",children:e("agents.import.title")}),(0,s.jsx)("span",{className:"md:hidden",children:"Import"})]}),(0,s.jsxs)("button",{onClick:()=>{D(!0)},className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(W.buttonSecondary," transition-colors text-sm"),children:[(0,s.jsx)(h.A,{size:16}),(0,s.jsx)("span",{className:"hidden md:inline",children:e("agents.export.title")}),(0,s.jsx)("span",{className:"md:hidden",children:"Export"})]}),(0,s.jsxs)("button",{onClick:()=>{I(!0)},className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(W.buttonSecondary," transition-colors text-sm"),children:[(0,s.jsx)(p,{size:16}),(0,s.jsx)("span",{className:"hidden lg:inline",children:e("agents.validation.title")}),(0,s.jsx)("span",{className:"lg:hidden",children:"Valid"})]}),(0,s.jsxs)("button",{onClick:et,className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(W.buttonSecondary," transition-colors text-sm"),children:[(0,s.jsx)(h.A,{size:16}),(0,s.jsx)("span",{className:"hidden lg:inline",children:e("agents.exportButton")}),(0,s.jsx)("span",{className:"lg:hidden",children:"MD"})]}),(0,s.jsxs)("button",{onClick:ea,className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(W.buttonSecondary," transition-colors text-sm"),children:[(0,s.jsx)(u.A,{size:16}),(0,s.jsx)("span",{className:"hidden lg:inline",children:e("copy")}),(0,s.jsx)("span",{className:"lg:hidden",children:"Copy"})]})]})]})}),S&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:S}),0===Y.length?(0,s.jsxs)("div",{className:"".concat(W.cardBg," ").concat(W.border," border rounded-lg p-12 text-center"),children:[(0,s.jsx)(l.A,{className:"h-24 w-24 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e("agents.empty.title")}),(0,s.jsx)("p",{className:"".concat(W.textSecondary," mb-6"),children:e("agents.empty.description")}),(0,s.jsxs)("button",{onClick:()=>{t.push("/agents/new")},className:"flex items-center gap-2 px-6 py-3 rounded-lg ".concat(W.button," transition-colors mx-auto"),children:[(0,s.jsx)(m.A,{size:20}),e("agents.createFirst")]})]}):(0,s.jsx)("div",{className:"grid"===T?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Y.map(a=>(0,s.jsxs)("div",{className:"".concat(W.cardBg," ").concat(W.border," border rounded-lg p-6 transition-all hover:shadow-lg ").concat("list"===T?"flex items-center justify-between":""),children:[(0,s.jsxs)("div",{className:"list"===T?"flex-1":"",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:a.Title}),(0,s.jsx)("p",{className:"".concat(W.textSecondary," mb-3"),children:a.Role}),a.Skills&&a.Skills.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:a.Skills.map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full",children:e},t))})]}),(0,s.jsxs)("div",{className:"flex gap-2 ".concat("list"===T?"ml-4":"mt-4"),children:[(0,s.jsx)("button",{onClick:()=>t.push("/agents?view=".concat(a.ID)),className:"p-2 rounded-lg ".concat(W.buttonSecondary," transition-colors"),title:e("view"),children:(0,s.jsx)(b.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>t.push("/agents/new?id=".concat(a.ID)),className:"p-2 rounded-lg ".concat(W.buttonSecondary," transition-colors"),title:e("edit"),children:(0,s.jsx)(y,{size:16})}),(0,s.jsx)("button",{onClick:()=>$(a.ID),className:"p-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors",title:e("delete"),children:(0,s.jsx)(j.A,{size:16})})]})]},a.ID))})]}),_&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"".concat(W.cardBg," rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto"),children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:e("agents.generate.title")}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:e("agents.generate.requirements")}),(0,s.jsx)("textarea",{value:H,onChange:e=>V(e.target.value),placeholder:e("agents.generate.placeholder"),className:"w-full h-32 px-4 py-2 rounded-lg ".concat(W.input," ").concat(W.border," border focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none")})]}),Z&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:e("agents.generate.result")}),(0,s.jsx)("pre",{className:"w-full h-48 px-4 py-2 rounded-lg ".concat(W.input," ").concat(W.border," border overflow-auto text-sm whitespace-pre-wrap"),children:Z})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)("button",{onClick:()=>{O(!1),V(""),Q("")},className:"px-4 py-2 rounded-lg ".concat(W.buttonSecondary," transition-colors"),children:e("cancel")}),(0,s.jsx)("button",{onClick:ee,disabled:!H.trim()||G,className:"px-4 py-2 rounded-lg ".concat(W.button," transition-colors disabled:opacity-50"),children:G?e("generating"):e("generate")})]})]})}),(0,s.jsx)(R,{isOpen:P,onClose:()=>q(!1),onImport:e=>{X()},darkMode:v}),(0,s.jsx)(w,{isOpen:F,onClose:()=>D(!1),agents:a,darkMode:v}),(0,s.jsx)(E,{isOpen:U,onClose:()=>I(!1),darkMode:v})]})};var T=a(508),B=a(9602),_=a(7910),O=a(7260);let P=()=>{let{t:e}=(0,f.Bd)(),t=(0,O.useRouter)(),a=(0,O.useSearchParams)(),r=a.get("view")||a.get("id"),[l]=(0,n.useState)(!0),[c,o]=(0,n.useState)(!0),[d,i]=(0,n.useState)(null),[m,g]=(0,n.useState)(null),[p,b]=(0,n.useState)(!1),v={dark:{bg:"bg-gray-900",cardBg:"bg-gray-800",text:"text-gray-100",textSecondary:"text-gray-300",border:"border-gray-700",input:"bg-gray-700 border-gray-600 text-gray-100",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-700 hover:bg-gray-600 text-gray-200",accent:"text-blue-400"},light:{bg:"bg-gray-50",cardBg:"bg-white",text:"text-gray-900",textSecondary:"text-gray-600",border:"border-gray-300",input:"bg-white border-gray-300 text-gray-900",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-200 hover:bg-gray-300 text-gray-700",accent:"text-blue-600"}},N=l?v.dark:v.light;(0,n.useEffect)(()=>{(async()=>{try{o(!0);let e=await fetch("/api/agents/".concat(r));if(!e.ok)throw Error("Failed to load agent");let t=await e.json();g(t)}catch(e){i(e.message)}finally{o(!1)}})()},[r]);let k=async()=>{if(window.confirm(e("agents.confirmDelete")))try{if(!(await fetch("/api/agents/".concat(r),{method:"DELETE"})).ok)throw Error("Failed to delete agent");t.push("/agents")}catch(e){i(e.message)}},w=async()=>{try{await navigator.clipboard.writeText(m.PromptExample||""),b(!0),setTimeout(()=>b(!1),2e3)}catch(e){i("Failed to copy to clipboard")}};return c?(0,s.jsx)("div",{className:"min-h-screen ".concat(N.bg," ").concat(N.text," flex items-center justify-center"),children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,s.jsxs)("p",{children:[e("loading"),"..."]})]})}):d?(0,s.jsx)("div",{className:"min-h-screen ".concat(N.bg," ").concat(N.text," flex items-center justify-center"),children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-red-500 mb-4",children:d}),(0,s.jsx)("button",{onClick:()=>t.push("/agents"),className:"px-4 py-2 rounded-lg ".concat(N.button," transition-colors"),children:e("agents.backToList")})]})}):m?(0,s.jsx)("div",{className:"min-h-screen ".concat(N.bg," ").concat(N.text),children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(T.A,{className:"h-7 w-7 text-blue-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:m.Title})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("button",{onClick:()=>t.push("/agents/new?id=".concat(r)),className:"flex items-center gap-2 px-4 py-2 rounded-lg ".concat(N.button," transition-colors"),children:[(0,s.jsx)(y,{size:16}),e("edit")]}),(0,s.jsxs)("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors",children:[(0,s.jsx)(j.A,{size:16}),e("delete")]})]})]}),(0,s.jsxs)("div",{className:"".concat(N.cardBg," ").concat(N.border," border rounded-lg p-6 mb-8"),children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,s.jsx)(T.A,{size:20,className:"text-blue-500"}),e("agents.form.basic")]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:e("agents.form.title")}),(0,s.jsx)("p",{className:"".concat(N.textSecondary," text-lg"),children:m.Title})]}),m.Role&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:e("agents.form.role")}),(0,s.jsx)("p",{className:"".concat(N.textSecondary),children:m.Role})]})]})]}),m.Skills&&m.Skills.length>0&&(0,s.jsxs)("div",{className:"".concat(N.cardBg," ").concat(N.border," border rounded-lg p-6 mb-8"),children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,s.jsx)(B.A,{size:20,className:"text-green-500"}),e("agents.form.skills")]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:m.Skills.map((e,t)=>(0,s.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full text-sm",children:e},t))})]}),m.Restrictions&&m.Restrictions.length>0&&(0,s.jsxs)("div",{className:"".concat(N.cardBg," ").concat(N.border," border rounded-lg p-6 mb-8"),children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,s.jsx)(_.A,{size:20,className:"text-red-500"}),e("agents.form.restrictions")]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:m.Restrictions.map((e,t)=>(0,s.jsx)("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-full text-sm",children:e},t))})]}),m.PromptExample&&(0,s.jsxs)("div",{className:"".concat(N.cardBg," ").concat(N.border," border rounded-lg p-6 mb-8"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,s.jsx)(x.A,{size:20,className:"text-purple-500"}),e("agents.form.promptExample")]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(N.buttonSecondary," transition-colors"),children:[(0,s.jsx)(u.A,{size:16}),p?e("copied"):e("copy")]}),(0,s.jsxs)("button",{onClick:()=>{var e,t;let a=new Blob(["# ".concat(m.Title,"\n\n## Role\n").concat(m.Role||"No role specified","\n\n## Skills\n").concat((null==(e=m.Skills)?void 0:e.map(e=>"- ".concat(e)).join("\n"))||"No skills specified","\n\n## Restrictions\n").concat((null==(t=m.Restrictions)?void 0:t.map(e=>"- ".concat(e)).join("\n"))||"No restrictions specified","\n\n## Prompt Example\n```\n").concat(m.PromptExample||"No prompt example provided","\n```\n")],{type:"text/markdown"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="".concat(m.Title.replace(/[^a-zA-Z0-9]/g,"_"),".md"),r.click(),URL.revokeObjectURL(s)},className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(N.buttonSecondary," transition-colors"),children:[(0,s.jsx)(h.A,{size:16}),e("export")]})]})]}),(0,s.jsx)("pre",{className:"".concat(N.input," ").concat(N.border," border rounded-lg p-4 whitespace-pre-wrap text-sm overflow-auto max-h-96"),children:m.PromptExample})]})]})}):(0,s.jsx)("div",{className:"min-h-screen ".concat(N.bg," ").concat(N.text," flex items-center justify-center"),children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"mb-4",children:e("agents.notFound")}),(0,s.jsx)("button",{onClick:()=>t.push("/agents"),className:"px-4 py-2 rounded-lg ".concat(N.button," transition-colors"),children:e("agents.backToList")})]})})};function q(){return(0,r.useSearchParams)().get("view")?(0,s.jsx)(P,{}):(0,s.jsx)(L,{})}function F(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto mb-4"}),(0,s.jsx)("p",{children:"Loading..."})]})}),children:(0,s.jsx)(q,{})})}},9602:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]])},9715:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9867:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])}},e=>{e.O(0,[316,441,255,358],()=>e(e.s=594)),_N_E=e.O()}]);